<!DOCTYPE html>

<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Insight Vault v2.4</title>
  <style>
    :root {
      --bg: #0b1220; --panel: #0f1a2e; --text: #e9eefc; --muted: #a9b4d0;
      --accent: #7c5cff; --accent2: #00d4b4; --border: rgba(255,255,255,.08);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: radial-gradient(1200px 700px at 20% 10%, #1a2a52 0%, var(--bg) 60%);
      color: var(--text); min-height: 100vh;
    }
    .wrap { max-width: 1100px; margin: 0 auto; padding: 28px 22px 60px; }
    header { margin-bottom: 28px; }
    header h1 { font-size: 36px; letter-spacing: -0.5px; margin-bottom: 4px; }
    header h1 span { color: var(--accent); }
    header p { color: var(--muted); font-size: 14px; }

```
.status-bar {
  background: rgba(15,26,46,.5); border: 1px solid var(--border);
  border-radius: 12px; padding: 10px 16px; margin-bottom: 20px;
  font-size: 12px; color: var(--muted); display: flex; align-items: center; gap: 8px;
}
.status-dot { width: 8px; height: 8px; border-radius: 50%; }
.dot-ok { background: #00d4b4; }
.dot-err { background: #ff6b6b; }
.dot-loading { background: #f7c948; }

.tabs { display: flex; gap: 4px; margin-bottom: 24px; border-bottom: 1px solid var(--border); }
.tab {
  padding: 10px 20px; cursor: pointer; font-size: 13px; font-weight: 600;
  color: var(--muted); background: transparent; border: none;
  border-bottom: 3px solid transparent; transition: all 0.2s; border-radius: 8px 8px 0 0;
}
.tab:hover { color: var(--text); }
.tab.active { color: var(--accent); border-bottom-color: var(--accent); }

.panel { display: none; }
.panel.active { display: block; }

.pillars-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
  gap: 16px;
}
.pillar-card {
  background: rgba(15,26,46,.55);
  border: 1px solid var(--border);
  border-radius: 14px;
  overflow: hidden;
}
.pillar-head {
  padding: 16px;
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  gap: 10px;
}
.pillar-head h4 {
  font-size: 14px;
  font-weight: 700;
  flex: 1;
  line-height: 1.4;
}
.pillar-num {
  font-size: 11px;
  font-weight: 700;
  background: rgba(124,92,255,.15);
  color: #b4a0ff;
  padding: 3px 10px;
  border-radius: 20px;
}
.pillar-topics {
  padding: 16px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  max-height: 400px;
  overflow-y: auto;
}
.topic-tag {
  font-size: 11px;
  padding: 5px 11px;
  border-radius: 20px;
  background: rgba(0,212,180,.08);
  border: 1px solid rgba(0,212,180,.15);
  color: #6ee7d4;
  white-space: nowrap;
}

.empty-state {
  text-align: center;
  padding: 48px;
  color: var(--muted);
}
.empty-state .big { font-size: 40px; margin-bottom: 12px; }
```

  </style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>üìò Insight <span>Vault</span></h1>
    <p>AI-native personal knowledge system ‚Äî upload, classify, organize.</p>
  </header>

  <div id="statusBar" class="status-bar">
    <div class="status-dot dot-loading"></div>
    <span id="statusText">Connecting to backend‚Ä¶</span>
  </div>

  <div class="tabs">
    <button class="tab" onclick="switchTab('upload',this)">‚¨ÜÔ∏è Upload</button>
    <button class="tab" onclick="switchTab('youtube',this)">‚ñ∂Ô∏è YouTube</button>
    <button class="tab" onclick="switchTab('vault',this)">üóÑ Vault</button>
    <button class="tab active" onclick="switchTab('taxonomy',this)">üóÇ Taxonomy</button>
  </div>

  <div class="panel" id="tab-upload">
    <p style="color:var(--muted);padding:40px;text-align:center;">
      ‚¨ÜÔ∏è Aba Upload<br><br>
      Funcionalidade em desenvolvimento
    </p>
  </div>

  <div class="panel" id="tab-youtube">
    <p style="color:var(--muted);padding:40px;text-align:center;">
      ‚ñ∂Ô∏è Aba YouTube<br><br>
      Funcionalidade em desenvolvimento
    </p>
  </div>

  <div class="panel" id="tab-vault">
    <p style="color:var(--muted);padding:40px;text-align:center;">
      üóÑ Aba Vault<br><br>
      Funcionalidade em desenvolvimento
    </p>
  </div>

  <div class="panel active" id="tab-taxonomy">
    <div class="pillars-grid" id="taxonomyGrid"></div>
  </div>
</div>

<script>
const API = "https://insight-vault-58jj.onrender.com";

const PILLARS = [
  {
    id: "P1",
    name_pt: "Desenvolvimento Pessoal & Efic√°cia",
    name_en: "Personal Development & Effectiveness",
    topics: ["Desenvolvimento","Desenvolvimento pessoal","Melhoria cont√≠nua","Lifelong learning","Aprendizagem","Conhecimento","Proatividade","Efic√°cia","Efici√™ncia","Gest√£o de tempo","Time management","Disciplina","H√°bitos","Excel√™ncia","Organiza√ß√£o","Foco","Deep work","Resili√™ncia","Grit","Persist√™ncia","Perseveran√ßa","Consist√™ncia","Mentalidade de crescimento","Growth Mindset","Crescimento","Performance","Pensamento cr√≠tico","M√©todo cient√≠fico"]
  },
  {
    id: "P2",
    name_pt: "Sa√∫de, Bem-estar e Espiritualidade",
    name_en: "Health, Wellbeing & Spirituality",
    topics: ["Equil√≠brio","Sa√∫de f√≠sica","Gin√°stica e treinos","Nutri√ß√£o & suplementa√ß√£o","Sono","Sa√∫de mental","Terapia","Intelig√™ncia Emocional","Autoconhecimento","Lazer","Hobbies","Bem-estar","Espiritualidade & religi√£o","Gest√£o de estresse","Energia","Vitalidade","Longevidade","Conex√£o","Medita√ß√£o","Paz interior","Escuta do cora√ß√£o","Transcend√™ncia","Consci√™ncia","Prop√≥sito","Sentido","Felicidade","Happiness","Gratid√£o","Humanidade","Otimismo","Vulnerabilidade","Sabedoria","Realiza√ß√£o"]
  },
  {
    id: "P3",
    name_pt: "Atitude e Imagem",
    name_en: "Attitude & Image",
    topics: ["Atitude","Postura","Postura profissional","Imagem","Imagem p√∫blica","M√≠dias sociais","Reputa√ß√£o","Vestu√°rio","Marca pessoal","Identidade","Autenticidade","Inova√ß√£o","Flexibilidade","Criatividade"]
  },
  {
    id: "P4",
    name_pt: "Relacionamentos, Comunica√ß√£o e Vendas",
    name_en: "Relationships, Communication & Sales",
    topics: ["Relacionamentos","Amizades","Comunidades","Networking","Comunica√ß√£o","Comunica√ß√£o n√£o violenta","Escuta","Escuta ativa","Empatia","Rapport","Orat√≥ria","Influ√™ncia","Persuas√£o","Negocia√ß√£o","Resolu√ß√£o de conflitos","Vendas","Storytelling"]
  },
  {
    id: "P5",
    name_pt: "Lideran√ßa, Estrat√©gia & Cultura",
    name_en: "Leadership, Strategy & Culture",
    topics: ["Lideran√ßa","Gest√£o de pessoas","Gest√£o de projetos","Scrum","Trabalho em equipe","Delega√ß√£o","Cultura","Cultura de Excel√™ncia","Miss√£o, Vis√£o e Valores Organizacionais","Estrat√©gia","Estrat√©gia empresarial","Governan√ßa","Sistemas organizacionais","Decis√£o","Decision making"]
  },
  {
    id: "P6",
    name_pt: "Business, Money & Wealth",
    name_en: "Business, Money & Wealth",
    topics: ["Finan√ßas","Dinheiro","Patrim√¥nio","Ativos","Gest√£o financeira","Aloca√ß√£o de capital","Investimentos","Avalia√ß√£o de risco","Empreendedorismo"]
  },
  {
    id: "P7",
    name_pt: "Valores, Car√°ter e Integridade",
    name_en: "Values, Character & Integrity",
    topics: ["√âtica","Justi√ßa","Moral","Responsabilidade","Seriedade","Compromisso","Honra","Integridade","Coragem","Coragem Moral","Car√°ter","Virtude","Compaix√£o","Humildade","Liberdade","Princ√≠pios","Valores","Servi√ßo"]
  },
  {
    id: "P8",
    name_pt: "Fam√≠lia & Legado",
    name_en: "Family & Legacy",
    topics: ["Fam√≠lia","Legado","Nome","Reputa√ß√£o","Paternidade","Presen√ßa emocional","Tradi√ß√µes familiares","Modelo de vida","Educa√ß√£o moral","Experi√™ncias","Cartas e orienta√ß√µes"]
  }
];

function switchTab(id, btn) {
  document.querySelectorAll(".panel").forEach(p => p.classList.remove("active"));
  document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
  document.getElementById("tab-" + id).classList.add("active");
  btn.classList.add("active");
}

function setStatus(msg, type = "ok") {
  const bar = document.getElementById("statusBar");
  const dot = bar.querySelector(".status-dot");
  const txt = document.getElementById("statusText");
  dot.className = "status-dot";
  dot.classList.add(type === "ok" ? "dot-ok" : type === "err" ? "dot-err" : "dot-loading");
  txt.textContent = msg;
}

async function checkHealth() {
  try {
    const r = await fetch(`${API}/health`);
    const d = await r.json();
    setStatus(`Backend online ¬∑ ${d.items} items ¬∑ v${d.version}`, "ok");
  } catch (e) {
    setStatus("Backend offline", "err");
  }
}

function renderTaxonomy() {
  const grid = document.getElementById("taxonomyGrid");
  
  let totalTopics = 0;
  PILLARS.forEach(p => totalTopics += p.topics.length);
  
  grid.innerHTML = PILLARS.map(p => `
    <div class="pillar-card">
      <div class="pillar-head">
        <h4>
          ${p.name_pt}<br>
          <span style="font-size:11px;color:var(--muted);font-weight:400;">${p.name_en}</span>
        </h4>
        <span class="pillar-num">${p.id}</span>
      </div>
      <div class="pillar-topics">
        ${p.topics.map(t => `<span class="topic-tag">${t}</span>`).join("")}
      </div>
    </div>
  `).join("");
  
  console.log(`Taxonomia carregada: ${PILLARS.length} pilares, ${totalTopics} t√≥picos`);
}

checkHealth();
renderTaxonomy();
</script>

</body>
</html>
